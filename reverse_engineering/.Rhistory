left_join(Owner_Total)
# Create a column listing what percent each owner donated to each party
Owners_PartyDons <- Owners_PartyDons |>
mutate(
Pct_Don = (Total_Contrib / Owner_Total) * 100
)
# Put code to reverse engineer sentence here
# Group donations that lean towards a particular party with that party
Owners_PartyDons <- Donations_AmountClean |>
mutate(
Party2 = case_when(
Party == "Bipartisan, but mostly Republican" ~ "Republican",
Party == "Bipartisan, but mostly Democratic" ~ "Democrat",
TRUE ~ Party
)
)
# Create a dataframe that lists the owners, which party they donated to, and how much they donated to that party
Owners_PartyDons <- Owners_PartyDons |>
group_by(Owner, Party2) |>
summarise(Contrib = sum(Amount))
# Add a column with the total amount each owner donated
# Create a dataframe with the total amount each owner donated
Owner_Total <- Donations_AmountClean |>
group_by(Owner) |>
summarise(Owner_Total = sum(Amount))
# Join that dataframe to the first dataframe (that has the list of owners and party donations)
Owners_PartyDons <- Owners_PartyDons |>
left_join(Owner_Total)
# Create a column listing what percent each owner donated to each party
Owners_PartyDons <- Owners_PartyDons |>
mutate(
Pct_Don = (Contrib / Owner_Total) * 100
)
# Find out how many owners contributed the majority of their funds to Republican campaigns
Majority_Rep <- Owners_PartyDons |>
filter(Party == "Republican" & Pct_Don > 50)
# Put code to reverse engineer sentence here
# Group donations that lean towards a particular party with that party
Owners_PartyDons <- Donations_AmountClean |>
mutate(
Party2 = case_when(
Party == "Bipartisan, but mostly Republican" ~ "Republican",
Party == "Bipartisan, but mostly Democratic" ~ "Democrat",
TRUE ~ Party
)
)
# Create a dataframe that lists the owners, which party they donated to, and how much they donated to that party
Owners_PartyDons <- Owners_PartyDons |>
group_by(Owner, Party2) |>
summarise(Contrib = sum(Amount))
# Add a column with the total amount each owner donated
# Create a dataframe with the total amount each owner donated
Owner_Total <- Donations_AmountClean |>
group_by(Owner) |>
summarise(Owner_Total = sum(Amount))
# Join that dataframe to the first dataframe (that has the list of owners and party donations)
Owners_PartyDons <- Owners_PartyDons |>
left_join(Owner_Total)
# Create a column listing what percent each owner donated to each party
Owners_PartyDons <- Owners_PartyDons |>
mutate(
Pct_Don = (Contrib / Owner_Total) * 100
)
# Find out how many owners contributed the majority of their funds to Republican campaigns
Majority_Rep <- Owners_PartyDons |>
filter(Party2 == "Republican" & Pct_Don > 50)
# Find out how many owners contributed the majority of their funds to Democratic campaigns
Majority_Dem <- Owners_PartyDons |>
filter(Party2 == "Democrat" & Pct_Don > 50)
# Display results of code below this codeblock
nrow(Majority_Rep)
nrow(Majority_Dem)
Donations |> group_by(Party) |> summarise(count = n())
# Put code to reverse engineer sentence here
# Group donations that lean towards a particular party with that party
Owners_PartyDons <- Donations_AmountClean |>
mutate(
Party2 = case_when(
Party == "Bipartisan, but mostly Republican" ~ "Republican",
Party == "Bipartisan, but mostly Democratic" ~ "Democrat",
TRUE ~ Party
)
)
# Filter out unused categories
Owners_PartyDons <- Owners_PartyDons |>
filter(Party2 != "Independent" |
Party2 != "N/A " |
Party2 != "Bipartisan"
)
# Create a dataframe that lists the owners, which party they donated to, and how much they donated to that party
Owners_PartyDons <- Owners_PartyDons |>
group_by(Owner, Party2) |>
summarise(Contrib = sum(Amount))
# Add a column with the total amount each owner donated
# Create a dataframe with the total amount each owner donated
Owner_Total <- Donations_AmountClean |>
group_by(Owner) |>
summarise(Owner_Total = sum(Amount))
# Join that dataframe to the first dataframe (that has the list of owners and party donations)
Owners_PartyDons <- Owners_PartyDons |>
left_join(Owner_Total)
# Create a column listing what percent each owner donated to each party
Owners_PartyDons <- Owners_PartyDons |>
mutate(
Pct_Don = (Contrib / Owner_Total) * 100
)
# Find out how many owners contributed the majority of their funds to Republican campaigns
Majority_Rep <- Owners_PartyDons |>
filter(Party2 == "Republican" & Pct_Don > 50)
# Find out how many owners contributed the majority of their funds to Democratic campaigns
Majority_Dem <- Owners_PartyDons |>
filter(Party2 == "Democrat" & Pct_Don > 50)
# Display results of code below this codeblock
nrow(Majority_Rep)
nrow(Majority_Dem)
View(Owner_Total)
library(dplyr)
# 1. Recode party classifications
Donations_Recode <- Donations_AmountClean |>
mutate(
Party2 = case_when(
Party == "Bipartisan, but mostly Republican" ~ "Republican",
Party == "Bipartisan, but mostly Democratic" ~ "Democrat",
Party %in% c("Republican", "Democrat") ~ Party,
TRUE ~ "Other"     # <- all other categories grouped as Other
)
)
# 2. Compute per-owner per-party totals
Owner_Party_Totals <- Donations_Recode |>
group_by(Owner, Party2) |>
summarise(Contrib = sum(Amount), .groups = "drop")
# 3. Compute total contributions *from the same dataset*
Owner_Totals <- Owner_Party_Totals |>
group_by(Owner) |>
summarise(Total = sum(Contrib), .groups = "drop")
# 4. Merge totals and compute percentages
Owner_Party_Pct <- Owner_Party_Totals |>
left_join(Owner_Totals, by = "Owner") |>
mutate(Pct = 100 * Contrib / Total)
# 5. Identify majority party donors
Majority_Rep <- Owner_Party_Pct |>
filter(Party2 == "Republican", Pct > 50)
Majority_Dem <- Owner_Party_Pct |>
filter(Party2 == "Democrat", Pct > 50)
Majority_Other <- Owner_Party_Pct |>
group_by(Owner) |>
filter(all(Pct <= 50)) |>
distinct(Owner)
# 6. Display the counts
n_republican <- nrow(Majority_Rep)
n_democrat   <- nrow(Majority_Dem)
n_other      <- nrow(Majority_Other)
n_republican
n_democrat
n_other
# Put code to reverse engineer sentence here
# Group donations that lean towards a particular party with that party
Owners_PartyDons <- Donations_AmountClean |>
mutate(
Party2 = case_when(
Party == "Bipartisan, but mostly Republican" ~ "Republican",
Party == "Bipartisan, but mostly Democratic" ~ "Democrat",
TRUE ~ Party
)
)
# Filter out unused categories
Owners_PartyDons <- Owners_PartyDons |>
filter(Party2 != "Independent" |
Party2 != "N/A " |
Party2 != "Bipartisan"
)
# Create a dataframe that lists the owners, which party they donated to, and how much they donated to that party
Owners_PartyDons <- Owners_PartyDons |>
group_by(Owner, Party2) |>
summarise(Contrib = sum(Amount))
# Add a column with the total amount each owner donated
# Create a dataframe with the total amount each owner donated
Owner_Total <- Donations_AmountClean |>
group_by(Owner) |>
summarise(Owner_Total = sum(Amount))
# Join that dataframe to the first dataframe (that has the list of owners and party donations)
Owners_PartyDons <- Owners_PartyDons |>
left_join(Owner_Total)
# Create a column listing what percent each owner donated to each party
Owners_PartyDons <- Owners_PartyDons |>
mutate(
Pct_Don = (Contrib / Owner_Total) * 100
)
# Find out how many owners contributed the majority of their funds to Republican campaigns
Majority_Rep <- Owners_PartyDons |>
filter(Party2 == "Republican" & Pct_Don > 50)
# Find out how many owners contributed the majority of their funds to Democratic campaigns
Majority_Dem <- Owners_PartyDons |>
filter(Party2 == "Democrat" & Pct_Don > 50)
# Display results of code below this codeblock
nrow(Majority_Rep)
nrow(Majority_Dem)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(lubridate)
library(haven)
CNLSY79 <- read_dta("PS2_Data_CNLSY.csv")
library(tidyverse)
library(janitor)
library(lubridate)
CNLSY79 <- read_csv("PS2_Data_CNLSY.csv")
View(CNLSY79)
CNLSY79 |>
group_by(id_mom) |>
summarise(count = n())
nrow(CNLSY79 |>
group_by(id_mom) |>
summarise(count = n()))
nrow(CNLSY79 |>
group_by(sample_id) |>
summarise(count = n()))
nrow(CNLSY79 |>
group_by(id_mom) |>
summarise(count = n()))
knitr::opts_chunk$set(echo = TRUE)
# Split dataset by party
republican_donors <- sports_donations |> filter(party == "Republican")
library(dplyr)
library(stringr)
sports_donations_2020 <- sports_donations |>
filter(election_year == 2020)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(lubridate)
# Load required data
Donations <- read_csv("data/sports-political-donations.csv")
# Clean required data and prepare for analysis if needed.
sports_donations <- read_csv("data/sports-political-donations.csv")
sports_donations <- sports_donations |>
clean_names()
sports_donations <- sports_donations %>%
mutate(amount = as.numeric(gsub("[$,]", "", amount)))
# Split dataset by party
republican_donors <- sports_donations |> filter(party == "Republican")
democrat_donors   <- sports_donations |> filter(party == "Democrat")
# Calculate totals, averages, and counts for each party
party_summary <- sports_donations |>
group_by(party) |>
summarize(
total_donated = sum(amount, na.rm = TRUE),
average_donation = mean(amount, na.rm = TRUE),
number_of_donors = n()
)
# Calculate percentages of total donations
total_all <- sum(party_summary$total_donated)
party_summary <- party_summary |>
mutate(percent_of_total = (total_donated / total_all) * 100)
# Arrange from highest to lowest total donated
party_summary <- party_summary |> arrange(desc(total_donated))
party_summary
# Put code to reverse engineer sentence here
# Turn the amount column into a numeric type, instead of a character
Donations_AmountClean <- Donations |>
mutate(Amount = str_replace_all(Amount, "\\$", ""),
Amount = str_replace_all(Amount, "\\,", ""),
Amount = as.numeric(Amount)
)
# Filter to only focus on WNBA players, then see how many contributions were made to each party
WNBA_Contribs <- Donations_AmountClean |>
filter(str_detect(League,"WNBA"))|>
group_by(Party) |>
summarise(numb_contrib = sum(Amount))
# Find the percentage of contributions each party got
WNBA_Contribs <- WNBA_Contribs |>
mutate(
pct_contrib = numb_contrib / sum(numb_contrib) * 100
)
# Display results of code below this codeblock
WNBA_Contribs
# Put code to reverse engineer sentence here
#The data needs to be clean like this because the amount data set needs to be set to numeric
Clean_Donations <- Donations |>
clean_names() |>
mutate(amount = as.numeric(gsub("[$,]","",amount)))
Clean_Donations
#top 40 donations code
top_40donations <- Clean_Donations |>
group_by(owner) |>
summarize(total_amount = sum(amount))|>
top_n(40,total_amount) |>
summarize(total_from40 = sum(total_amount))
top_40donations
#calculate the total contributions
total_donation_amount <- sum(Clean_Donations$amount)
#percentage
percent_top40 <- (top_40donations$total_from40/ total_donation_amount) * 100
# Display results of code below this codeblock
#the percent of the top 40 owners
percent_top40
# Put code to reverse engineer sentence here
# Group donations that lean towards a particular party with that party
Owners_PartyDons <- Donations_AmountClean |>
mutate(
Party2 = case_when(
Party == "Bipartisan, but mostly Republican" ~ "Republican",
Party == "Bipartisan, but mostly Democratic" ~ "Democrat",
TRUE ~ Party
)
)
# Filter out unused categories
Owners_PartyDons <- Owners_PartyDons |>
filter(Party2 != "Independent" |
Party2 != "N/A " |
Party2 != "Bipartisan"
)
# Create a dataframe that lists the owners, which party they donated to, and how much they donated to that party
Owners_PartyDons <- Owners_PartyDons |>
group_by(Owner, Party2) |>
summarise(Contrib = sum(Amount))
# Add a column with the total amount each owner donated
# Create a dataframe with the total amount each owner donated
Owner_Total <- Donations_AmountClean |>
group_by(Owner) |>
summarise(Owner_Total = sum(Amount))
# Join that dataframe to the first dataframe (that has the list of owners and party donations)
Owners_PartyDons <- Owners_PartyDons |>
left_join(Owner_Total)
# Create a column listing what percent each owner donated to each party
Owners_PartyDons <- Owners_PartyDons |>
mutate(
Pct_Don = (Contrib / Owner_Total) * 100
)
# Find out how many owners contributed the majority of their funds to Republican campaigns
Majority_Rep <- Owners_PartyDons |>
filter(Party2 == "Republican" & Pct_Don > 50)
# Find out how many owners contributed the majority of their funds to Democratic campaigns
Majority_Dem <- Owners_PartyDons |>
filter(Party2 == "Democrat" & Pct_Don > 50)
# Display results of code below this codeblock
nrow(Majority_Rep)
nrow(Majority_Dem)
library(dplyr)
library(stringr)
sports_donations_2020 <- sports_donations |>
filter(election_year == 2020)
sports_donations_2020 <- sports_donations_2020 |>
mutate(recipient_lower = tolower(recipient))
sports_donations_2020 <- sports_donations_2020 |>
mutate(candidate = case_when(
str_detect(recipient_lower, "trump") ~ "trump",
str_detect(recipient_lower, "biden") ~ "biden",
TRUE ~ NA_character_
))
sports_donations_2020 <- sports_donations_2020 |>
filter(!is.na(candidate))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(lubridate)
# Load required data
Donations <- read_csv("data/sports-political-donations.csv")
# Clean required data and prepare for analysis if needed.
sports_donations <- read_csv("data/sports-political-donations.csv")
sports_donations <- sports_donations |>
clean_names()
sports_donations <- sports_donations %>%
mutate(amount = as.numeric(gsub("[$,]", "", amount)))
# Split dataset by party
republican_donors <- sports_donations |> filter(party == "Republican")
democrat_donors   <- sports_donations |> filter(party == "Democrat")
# Calculate totals, averages, and counts for each party
party_summary <- sports_donations |>
group_by(party) |>
summarize(
total_donated = sum(amount, na.rm = TRUE),
average_donation = mean(amount, na.rm = TRUE),
number_of_donors = n()
)
# Calculate percentages of total donations
total_all <- sum(party_summary$total_donated)
party_summary <- party_summary |>
mutate(percent_of_total = (total_donated / total_all) * 100)
# Arrange from highest to lowest total donated
party_summary <- party_summary |> arrange(desc(total_donated))
party_summary
# Put code to reverse engineer sentence here
#shrump says
#This is to see the amount of owners(through the rows)
TrumpTotal2020 <- sports_donations |>
filter(str_detect(recipient, "TRUMP VICTORY") |
str_detect(recipient, "Trump Victory") |
str_detect(recipient, "TRUMP MAKE AMERICA GREAT AGAIN COMMITTEE")|
str_detect(recipient, "DONALD J. TRUMP FOR PRESIDENT, INC.")|
str_detect(recipient, "Trump Make America Great Again Committee"))
TrumpTotal2020 <- TrumpTotal2020 |>
filter(election_year == 2020)
#Code to see total amount for trump 2020
TrumpTotal2020 |>
summarize(total_amount = sum(amount))
TrumpTotal2020
#joever
#look at rows for the amount of donors
BidenTotal2020 <- sports_donations |>
filter(str_detect(recipient, "BIDEN FOR PRESIDENT") |
str_detect(recipient, "BIDEN ACTION FUND") |
str_detect(recipient, "BIDEN VICTORY FUND") |
str_detect(recipient, "Biden For President") |
str_detect(recipient, "Biden Action Fund") |
str_detect(recipient, "Biden Victory Fund") |
str_detect(recipient, "Biden for President")
)
BidenTotal2020 |> summarize(total_amount = sum(amount))
# Display results of code below this codeblock
BidenTotal2020
### Sentence 4 - Alex
* **Sentence text**: Of the 160 owners and commissioners in ESPN’s database, 74 contributed a majority of their publicly searchable funds to Republican campaigns, with 48 donating a majority to Democrats and the rest sending most of their money to causes that aren’t fully aligned with either party.
# Put code to reverse engineer sentence here
#shrump says
#This is to see the amount of owners(through the rows)
TrumpTotal2020 <- sports_donations |>
filter(str_detect(recipient, "TRUMP VICTORY") |
str_detect(recipient, "Trump Victory") |
str_detect(recipient, "TRUMP MAKE AMERICA GREAT AGAIN COMMITTEE")|
str_detect(recipient, "DONALD J. TRUMP FOR PRESIDENT, INC.")|
str_detect(recipient, "Trump Make America Great Again Committee"))
TrumpTotal2020 <- TrumpTotal2020 |>
filter(election_year == 2020)
#Code to see total amount for trump 2020
TrumpTotal2020 |>
summarize(total_amount = sum(amount))
TrumpTotal2020
#joever
#look at rows for the amount of donors
BidenTotal2020 <- sports_donations |>
filter(str_detect(recipient, "BIDEN FOR PRESIDENT") |
str_detect(recipient, "BIDEN ACTION FUND") |
str_detect(recipient, "BIDEN VICTORY FUND") |
str_detect(recipient, "Biden For President") |
str_detect(recipient, "Biden Action Fund") |
str_detect(recipient, "Biden Victory Fund") |
str_detect(recipient, "Biden for President")
)
BidenTotal2020 |> summarize(total_amount = sum(amount))
# Display results of code below this codeblock
BidenTotal2020
# Put code to reverse engineer sentence here
# Group donations that lean towards a particular party with that party
Owners_PartyDons <- Donations_AmountClean |>
mutate(
Party2 = case_when(
Party == "Bipartisan, but mostly Republican" ~ "Republican",
Party == "Bipartisan, but mostly Democratic" ~ "Democrat",
TRUE ~ Party
)
)
# Filter out unused categories
Owners_PartyDons <- Owners_PartyDons |>
filter(Party2 != "Independent" |
Party2 != "N/A " |
Party2 != "Bipartisan"
)
# Create a dataframe that lists the owners, which party they donated to, and how much they donated to that party
Owners_PartyDons <- Owners_PartyDons |>
group_by(Owner, Party2) |>
summarise(Contrib = sum(Amount))
# Add a column with the total amount each owner donated
# Create a dataframe with the total amount each owner donated
Owner_Total <- Donations_AmountClean |>
group_by(Owner) |>
summarise(Owner_Total = sum(Amount))
# Join that dataframe to the first dataframe (that has the list of owners and party donations)
Owners_PartyDons <- Owners_PartyDons |>
left_join(Owner_Total)
# Create a column listing what percent each owner donated to each party
Owners_PartyDons <- Owners_PartyDons |>
mutate(
Pct_Don = (Contrib / Owner_Total) * 100
)
# Find out how many owners contributed the majority of their funds to Republican campaigns
Majority_Rep <- Owners_PartyDons |>
filter(Party2 == "Republican" & Pct_Don > 50)
# Find out how many owners contributed the majority of their funds to Democratic campaigns
Majority_Dem <- Owners_PartyDons |>
filter(Party2 == "Democrat" & Pct_Don > 50)
# Display results of code below this codeblock
nrow(Majority_Rep)
nrow(Majority_Dem)
library(dplyr)
library(stringr)
sports_donations_2020 <- sports_donations |>
filter(election_year == 2020)
sports_donations_2020 <- sports_donations_2020 |>
mutate(recipient_lower = tolower(recipient))
sports_donations_2020 <- sports_donations_2020 |>
mutate(candidate = case_when(
str_detect(recipient_lower, "trump") ~ "trump",
str_detect(recipient_lower, "biden") ~ "biden",
TRUE ~ NA_character_
))
sports_donations_2020 <- sports_donations_2020 |>
filter(!is.na(candidate))
library(dplyr)
library(stringr)
sports_donations_2020 <- sports_donations |>
filter(election_year == 2020)
sports_donations_2020 <- sports_donations_2020 |>
mutate(recipient_lower = tolower(recipient))
sports_donations_2020 <- sports_donations_2020 |>
mutate(candidate = case_when(
str_detect(recipient_lower, "trump") ~ "trump",
str_detect(recipient_lower, "biden") ~ "biden",
TRUE ~ NA_character_
))
sports_donations_2020 <- sports_donations_2020 |>
filter(!is.na(candidate))
